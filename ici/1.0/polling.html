<!DOCTYPE html>
<html lang="">
<!-- head -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1"> 
    <!-- stylesheets -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css"> 
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css">
    <link rel="stylesheet" href="/bonita_doc/assets/main.css">
    <!-- <link rel="stylesheet" href="/bonita_doc/assets/richleland-pygments-css/vs.css"> --> 
    <!-- jekyll-seo-tag -->
    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Poll data from Bonita Engine database | Bonitasoft Documentation Prototype</title>
<meta name="generator" content="Jekyll v3.8.2" />
<meta property="og:title" content="Poll data from Bonita Engine database" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Poll data from Bonita platform to ICI Module" />
<meta property="og:description" content="Poll data from Bonita platform to ICI Module" />
<link rel="canonical" href="https://pbelabbes.github.io/bonita_doc/ici/1.0/polling" />
<meta property="og:url" content="https://pbelabbes.github.io/bonita_doc/ici/1.0/polling" />
<meta property="og:site_name" content="Bonitasoft Documentation Prototype" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-07-19T17:46:22+02:00" />
<script type="application/ld+json">
{"description":"Poll data from Bonita platform to ICI Module","@type":"BlogPosting","url":"https://pbelabbes.github.io/bonita_doc/ici/1.0/polling","headline":"Poll data from Bonita Engine database","dateModified":"2018-07-19T17:46:22+02:00","datePublished":"2018-07-19T17:46:22+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://pbelabbes.github.io/bonita_doc/ici/1.0/polling"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <!-- favicons and rss -->
    <link rel="alternate" type="application/rss+xml" title="Bonitasoft Documentation Prototype" href="/bonita_doc/feed.xml">
    <link rel="icon" type="image/png" sizes="32x32" href="/bonita_doc/assets/favicon/bonita-32_0.png">
</head>
<body>
    <!-- header --><div class="documentationHeader">
    <nav class="navbar navbar-default">
      <div id="top-links" class="container-fluid">
          <div class="row">
             <ul class="inline pull-right">
                 <li><a href="http://www.bonitasoft.com/about-us/news" style="color: white">News</a></li>
                 <li><a href="http://community.bonitasoft.com/" style="color: white">Community</a></li>
                 <li><a href="http://customer.bonitasoft.com/" style="color: white">Customer portal</a></li>
                 <li><a href="http://partner.bonitasoft.com/home" style="color: white">Partners</a></li>
             </ul>
          </div>
      </div>
      <div class="container-fluid main_nav">
        <div class="navbar-header">
          <a class="logo">
            <img alt="Bonitasoft" src="/bonita_doc/assets/img/logo_white.png">
          </a>
        </div>
        <ul class="nav navbar-nav">
          <li class="dropdown" >
            <a class="version" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Bonita <span class="caret"></span></a>
            <ul class="dropdown-menu">
                
                
                <li role="menuitem">
                        <a class="version" href="https://pbelabbes.github.io/bonita_doc/bonita/7.8">7.8 </a>
                </li>
      
                
                <li role="menuitem">
                        <a class="version" href="https://pbelabbes.github.io/bonita_doc/bonita/7.7">7.7 </a>
                </li>
      
                
                <li role="menuitem">
                        <a class="version" href="https://pbelabbes.github.io/bonita_doc/bonita/7.6">7.6 </a>
                </li>
      
                
                <li role="menuitem">
                        <a class="version" href="https://pbelabbes.github.io/bonita_doc/bonita/7.5">7.5 </a>
                </li>
      
                
                <li role="menuitem">
                        <a class="version" href="https://pbelabbes.github.io/bonita_doc/bonita/7.4">7.4 </a>
                </li>
      
                
                
                <!-- <li class="menu-item dropdown dropdown-submenu">
                    <a class="dropdown-toggle">Other versions</a>
                    <ul class="dropdown-menu">
                        <li >
                            <a href="" class="version"></a>
                        </li>
                    </ul>
                </li> -->
  
            </ul>
          </li>
          <li class="dropdown">
          <a class="version" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Add-ons <span class="caret"></span></a>
          <ul class="dropdown-menu" >

              
              
                
                    <li class="menu-item dropdown dropdown-submenu" >
                        <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">bcd</a>
                        <ul class="dropdown-menu">
                            
                                <li class="addOnVersion" >
                                    <a class="version" href="https://pbelabbes.github.io/bonita_doc/bcd/2.0">2.0</a>
                                </li>
                            
                                <li class="addOnVersion" >
                                    <a class="version" href="https://pbelabbes.github.io/bonita_doc/bcd/1.0">1.0</a>
                                </li>
                            
                            
                        </ul>
                    </li>
                
                
               
              
               
              
                
                    <li class="menu-item dropdown dropdown-submenu" >
                        <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">ici</a>
                        <ul class="dropdown-menu">
                            
                                <li class="addOnVersion" >
                                    <a class="version" href="https://pbelabbes.github.io/bonita_doc/ici/1.0">1.0</a>
                                </li>
                            
                            
                        </ul>
                    </li>
                
                
               
              
                
                
               
              
          </ul>
          </li>
        </ul>
        <div id="react-search"></div>
      </div>
     
    </nav>
  </div><div class="container-fluid">
        <div class="row">
            <div class="col-md-3"><div id="navigationHeader" class="documentationNavigationHeader">
    <h2><a href="https://pbelabbes.github.io/bonita_doc/ici/1.0">
            
            <img src="/bonita_doc/assets/img/logo_ici.png" />
            
                

                <span>Ici  1.0</span>
        </a>
    </h2>
</div>

<div class="documentationNavigation">
  
    <!-- Create an array to store the current category --><!-- Start iterate in categories  -->
    <ul><!-- create an array with all categories corresponding to a node in the taxonomy  --><li class="" ><i class="fa fa-circle-o" aria-hidden="true"></i> <a href="/bonita_doc/ici/1.0/release_notes">Release Notes</a></li><!-- create an array with all categories corresponding to a node in the taxonomy  --><li class="" ><i class="fa fa-circle-o" aria-hidden="true"></i> <a href="/bonita_doc/ici/1.0/architecture">Architecture</a></li><!-- create an array with all categories corresponding to a node in the taxonomy  --><li class="" ><i class="fa fa-circle-o" aria-hidden="true"></i> <a href="/bonita_doc/ici/1.0/process_mining">Process-mining</a></li><!-- create an array with all categories corresponding to a node in the taxonomy  --><li class="" ><i class="fa fa-circle-o" aria-hidden="true"></i> <a href="/bonita_doc/ici/1.0/prerequisites">Pre-requisites</a></li><!-- create an array with all categories corresponding to a node in the taxonomy  --><li class="" ><i class="fa fa-circle-o" aria-hidden="true"></i> <a href="/bonita_doc/ici/1.0/getting_started">Getting started</a></li><!-- create an array with all categories corresponding to a node in the taxonomy  --><li class="" ><i class="fa fa-circle-o" aria-hidden="true"></i> <a href="/bonita_doc/ici/1.0/installation_guide">Installation guide</a></li><!-- create an array with all categories corresponding to a node in the taxonomy  --><li class="active" ><i class="fa fa-circle-o" aria-hidden="true"></i> <a href="/bonita_doc/ici/1.0/polling">Poll data from Bonita Engine database</a></li><!-- create an array with all categories corresponding to a node in the taxonomy  --><li class="" ><i class="fa fa-circle-o" aria-hidden="true"></i> <a href="/bonita_doc/ici/1.0/configure">Configure Operations Management Living Application</a></li><!-- create an array with all categories corresponding to a node in the taxonomy  --><li class="" ><i class="fa fa-circle-o" aria-hidden="true"></i> <a href="/bonita_doc/ici/1.0/monitoring">Monitor cases</a></li><!-- create an array with all categories corresponding to a node in the taxonomy  --><li class="" ><i class="fa fa-circle-o" aria-hidden="true"></i> <a href="/bonita_doc/ici/1.0/dashboard">Business Process Intelligence dashboard</a></li><!-- create an array with all categories corresponding to a node in the taxonomy  --><li class="" ><i class="fa fa-circle-o" aria-hidden="true"></i> <a href="/bonita_doc/ici/1.0/send_data">Send us (anonymous) data!</a></li><!-- create an array with all categories corresponding to a node in the taxonomy  --></ul>
</div></div>
            <div class="col-md-9 content--noPaddingRight" >
                <div class="documentationContent">
                    <div class="documentationPage">
                            <a href="https://github.com/bonitasoft/bonita-ici-doc/edit/1.0/md/polling.md" target="_blank"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
                       <article>
                        <h1 id="poll-data-from-bonita-platform-to-ici-module">Poll data from Bonita platform to ICI Module</h1>

<p>In order to learn from the history of all executed processes in Bonita platform, ICI backend need to access and poll data from Bonita platform database.</p>

<p>The first time ICI backend is launched, all data regarding case and task execution is retrieved from the Bonita platform database. Then, every 15 minutes (default configuration), a job updates the module with data of newly executed tasks and cases.</p>

<div class="list-group"><a href="/bonita_doc/ici/1.0/polling#configuration" class="list-group-item toc-h2">Configuration</a><a href="/bonita_doc/ici/1.0/polling#manage-polling-executions" class="list-group-item toc-h2">Manage polling executions</a><a href="/bonita_doc/ici/1.0/polling#troubleshooting" class="list-group-item toc-h2">Troubleshooting</a><a href="/bonita_doc/ici/1.0/polling#polling-errors" class="list-group-item toc-h3">Polling errors</a><a href="/bonita_doc/ici/1.0/polling#deleted-cases" class="list-group-item toc-h3">Deleted cases</a>
</div>
<h2 id="configuration">Configuration</h2>

<p id="configuration">All these configuration can be set in the <code class="highlighter-rouge">application.properties</code> of the ICI backend.</p>

<p>Bonita platform database connection informations</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bonita.datasource.url=jdbc url
bonita.datasource.username=username
bonita.datasource.password=password
</code></pre></div></div>

<p>If you use oracle you need to add your driver <code class="highlighter-rouge">lib</code> folder of the ICI backend ( or in the <code class="highlighter-rouge">jdbc_driver</code> folder of the  installer if you use it).</p>

<p>Polling rate interval, i.e. at each rate the data in ICI backend will be updated</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bonita.ici.polling.rate_minute=15
</code></pre></div></div>

<p>The connection pool of this polling can be configured to limit or increase the polling velocity.
It can be useful to decrease it when you want to limit the impact of the ICI modules on Bonita platform’s performances.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>spring.datasource.hikari.maximum-pool-size=20
</code></pre></div></div>

<h2 id="manage-polling-executions">Manage polling executions</h2>

<p>The polling can be handled on a page served directly on the ICI backend. By default it can be accessed on <a href="http://localhost:8082/">http://localhost:8082/</a></p>

<p>This page allows to:</p>
<ul>
  <li>activate/deactivate the polling</li>
  <li>run it immediately</li>
  <li>cancel any running polling</li>
  <li>see previous polling executions</li>
</ul>

<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="polling-errors">Polling errors</h3>

<p>When a polling execution fails, it can be seen in error on the ICI backend. By default it can be accessed on <a href="http://localhost:8082/">http://localhost:8082/</a>.</p>

<p>More information would be available in output logs on the ICI backend, either in the Standard output or in the log file <code class="highlighter-rouge">logs/bonita-ici.log</code></p>

<h3 id="deleted-cases">Deleted cases</h3>

<p>When a started case is already polled in ICI storage and then deleted in Bonita platform, this case is still present 
in ICI storage and will still be displayed in Operation Management Living app, but this overview can’t be displayed 
anymore since data is deleted from Bonita database .</p>

                       </article>
                    </div>
                </div>
            
            </div>
        </div>
    </div>
    <!-- scripts --><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
    crossorigin="anonymous"></script>
    <script src="/bonita_doc/assets/javascripts/active_link.js"></script>

    <script src="/bonita_doc/assets/javascripts/collapse.js"></script>
    <script src="/bonita_doc/assets/javascripts/bundle.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/react/0.14.7/react.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/react/0.14.7/react-dom.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/searchkit/0.10.0/bundle.js"></script></body>
</html>